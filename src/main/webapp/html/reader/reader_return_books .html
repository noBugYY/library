<html>
<head>
    <title>我想还书</title>
    <link rel="stylesheet" href="../css/bootstrap.min.css">
    <script src="../js/jquery-3.2.1.js"></script>
    <script src="../js/bootstrap.min.js"></script>
    <script>
        $(function () {
            $('#header').load('reader_header.html');
        })
    </script>
</head>
<body>

<div id="header"></div>

<div style="padding: 20px 550px 10px">
</div>
<div class="panel panel-default" style="width: 90%;margin-left: 5%">
    <div class="panel-heading" style="background-color: #fff">
        <h3 class="panel-title">
            全部未还图书
        </h3>
    </div>
    <div class="panel-body">
        <table class="table table-hover">
            <thead>
            <tr>
                <th>书名</th>
                <th>作者</th>
                <th>出版社</th>
                <th>分类</th>
                <th>价格</th>
                <th>借出日期</th>
                <th>应还日期</th>
                <th>图书状态</th>
                <th>还书</th>
                <th>续借</th>
            </tr>
            </thead>
            <tbody>
            <c:forEach items="${books}" var="book">
                <tr>
                    <td><c:out value="${book.name}"></c:out></td>
                    <td><c:out value="${book.author}"></c:out></td>
                    <td><c:out value="${book.publish}"></c:out></td>
                    <td><c:out value="${book.isbn}"></c:out></td>
                    <td><c:out value="${book.price}"></c:out></td>
                    <td><c:out value="${book.number}"></c:out></td>
                    <td><c:out value="${book.number}"></c:out></td>

                    <!--0:：未还，1：已还，2：超期   判断不同状态显示不同按钮-->
                    <td><a href="#">
                    <button type="button" class="btn btn-success btn-xs">未还</button>
                </a>
                <a href="#"><button type="button" class="btn btn-danger btn-xs">超期</button></a></td>

                    <c:if test="${flag}">
                        <td><a href="#">
                            <button type="button" class="btn btn-danger btn-xs">归还</button>
                        </a></td>
                    </c:if>
                    <td><!--到应还日期前15天或者超期才能让用户续借-->
                    <a href="#">
                        <button type="button" class="btn btn-success btn-xs">续借</button>
                    </a></td>
                </tr>
            </c:forEach>
            </tbody>
        </table>
    </div>
</div>

</body>
</html>
